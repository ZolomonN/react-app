(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{154:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(59),s=n.n(i),c=n(25),o=n(26),u=n(28),l=n(27),j=n(11),d=n(16),h=(n(154),n(3)),p=n(12),b=n(0),f=function(e){var t=e.logoutThunkCreator;return Object(b.jsx)("div",{className:"header__loginBlock loginBlock",children:e.isAuth?Object(b.jsxs)("div",{className:"loginBlock__content",children:[Object(b.jsxs)("div",{className:"loginBlock__auth",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",e.login,"!"]}),Object(b.jsx)("button",{className:"loginBlock__logout btnReset",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(b.jsx)(d.b,{className:"loginBlock__login",to:"/login",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})},g=n(7),O=n.n(g),m=n(13),x=n(20),Y=n(121),I=n.n(Y).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4601f658-e994-4c5e-8ce3-24e3b849af41"}}),v={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return I.get("users?page=".concat(e,"&count=").concat(t))},unfollow:function(e){return I.delete("follow/".concat(e))},follow:function(e){return I.post("follow/".concat(e),{})}},F=function(e){return I.get("profile/".concat(e))},k=function(e){return I.get("profile/status/".concat(e))},S=function(e){return I.put("profile/status",{status:e})},A=function(e){var t=new FormData;return t.append("image",e),I.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},w=function(e){return I.put("profile",e)},W=function(){return I.get("auth/me")},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},N=function(){return I.delete("auth/login")},P=function(){return I.get("security/get-captcha-url")},G={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},B=function(e,t,n,r){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},T=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",captchaUrl:e}},y=function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n,r,a,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===(n=(n=e.sent).data).resultCode&&(r=n.data,a=r.id,i=r.email,s=r.login,t(B(a,i,s,!0)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,r=n.data.url,t(T(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(h.a)(Object(h.a)({},e),t.payload);case"GET_CAPTCHA_URL_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(f,Object(h.a)({},this.props))}}]),n}(a.a.Component),R=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logoutThunkCreator:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:0===e.sent.data.resultCode&&t(B(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(J),U=n.p+"static/media/headerLogo.eb27617d.svg",M=function(){return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("img",{className:"header__logo",src:U}),Object(b.jsx)(R,{})]})},Q=function(e){return Object(b.jsxs)("div",{className:"friend",children:[Object(b.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:""}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:"".concat(e.name,", ").concat(e.year)})})]})},V=function(e){return Object(b.jsx)("div",{className:"sidebar",children:Object(b.jsx)("div",{className:"friendsList",children:e.friendsList.map((function(e){return Object(b.jsx)(Q,{name:e.name,year:e.year},e.id)}))})})},H=Object(p.b)((function(e){return{friendsList:e.sidebar.friendsList}}),{})(V),Z=function(e){return Object(b.jsxs)("nav",{className:"nav",children:[Object(b.jsxs)("ul",{className:"nav__list",children:[Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/profile",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/dialogs",children:"Messages*"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/users",children:"Users"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/news",children:"News*"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/music",children:"Music*"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{className:"nav__link",to:"/settings",children:"Settings*"})})]}),Object(b.jsx)(H,{})]})},_=function(){return Object(b.jsx)("div",{children:"News"})},L=function(){return Object(b.jsx)("div",{children:"Music"})},X=function(){return Object(b.jsx)("div",{children:"Settings"})},K=n(10),q=function(e){return{isAuth:e.auth.isAuth}},z=function(e){var t=function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(){return Object(c.a)(this,r),n.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(h.a)({},this.props)):Object(b.jsx)(j.a,{to:"/login"})}}]),r}(a.a.Component);return Object(p.b)(q)(t)},$=n(36),ee={postsData:[{id:"1",text:"Hi, its me - Mario!",likes:"3"},{id:"2",text:"My first post",likes:"10"},{id:"3",text:"My second post",likes:"41"},{id:"4",text:"My third post",likes:"23"}],profile:null,status:null},te=function(e){return{type:"SET_STATUS",status:e}},ne=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:"5",text:t.newPostBody,likes:"0"};return Object(h.a)(Object(h.a)({},e),{},{postsData:[].concat(Object($.a)(e.postsData),[n])});case"DELETE_POST":return Object(h.a)(Object(h.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});case"SET_USER_PROFILE":return Object(h.a)(Object(h.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(h.a)(Object(h.a)({},e),{},{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{profile:Object(h.a)(Object(h.a)({},e.profile),{},{photos:t.photos})});default:return e}},ae=n.p+"static/media/loader.6d4738b4.svg",ie=function(e){return Object(b.jsx)("div",{className:"preloader",children:Object(b.jsx)("img",{src:ae})})},se=n(117),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC+lBMVEUAAAAAAACAgIBVVVWAgIBmZmZVVVVtbW1gYGBVVVVmZmZdXV1qampiYmJbW1tmZmZgYGBaWlpjY2NeXl5mZmZhYWFdXV1kZGRgYGBcZmZiYmJeXl5kZGRhYWFeXl5jY2NgYGBdZGRiYmJfX19jY2NgYGBeXl5iYmJgYGBdZGRhYWFfX19gYGBeXl5iYmJgYGBeY2NhYWFfX19iYmJgYGBeY2NhYWFgYGBeYmJhYWFfX19iYmJgYGBfY2NhYWFgYGBeYmJhYWFfX19gYGBfYmJhYWFgYGBeYmJgYGBfY2NhYWFgYGBfYmJhYWFgYGBeYmJgYGBfYmJhYWFgYGBfYmJhYWFgYGBhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYWFgYGBgYmJhYWFgYGBfYmJhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYmJgYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJgYWFhYWFgYWFfYWFgYGBgYWFhYWFgYmJgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYmJgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFRkljDAAAA/XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKy0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDRUZHSElKS0xNTk9QUVJTVFVW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",oe=function(e){return Object(b.jsxs)("div",{className:"profile__post post",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"post__img",src:null!==e.profileAvatar?e.profileAvatar:ce,alt:""})}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:e.message})}),Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["Like: ",e.likecounter]})})]})},ue=n(116),le=function(e){if(!e)return"Field is required"},je=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},de=n(84),he=function(e){var t=e.input,n=e.meta,r=Object(de.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("textarea",Object(h.a)(Object(h.a)({className:a?"error":""},t),r))}),a&&Object(b.jsx)("span",{children:n.error})]})},pe=function(e){var t=e.input,n=e.meta,r=Object(de.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(h.a)(Object(h.a)({className:a?"error":""},t),r))}),a&&Object(b.jsx)("span",{children:n.error})]})},be=je(10),fe=function(e){return Object(b.jsxs)("form",{className:"profile__postForm",onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(ue.a,{name:"newPostBody",component:he,placeholder:"Your post",validate:[le,be]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Add post"})})]})},ge=Object(se.a)({form:"profileAddPostForm"})(fe),Oe=a.a.memo((function(e){return Object(b.jsxs)("div",{className:"profile__postsBlock",children:[e.isOwner&&Object(b.jsx)(ge,{onSubmit:function(t){e.addPost(t.newPostBody)}}),e.postsData.map((function(t){return Object(b.jsx)(oe,{profileAvatar:e.profileAvatar,message:t.text,likecounter:t.likes},t.id)}))]})})),me=n(37),xe=function(e){var t=Object(r.useState)(!1),n=Object(me.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(e.status),c=Object(me.a)(s,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(b.jsx)("div",{children:a?Object(b.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(o)},value:o,onChange:function(e){u(e.target.value)}}):Object(b.jsx)("span",{onDoubleClick:function(){i(!0)},children:o})})},Ye=Object(se.a)({form:"profileData"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("button",{children:"Save"}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Full name:"}),Object(b.jsx)(ue.a,{name:"fullName",component:pe,validate:[],placeholder:"Full name"})]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"looking For A Job"}),":",Object(b.jsx)(ue.a,{name:"lookingForAJob",component:pe,type:"checkbox",validate:[]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"My professional skills:"}),Object(b.jsx)(ue.a,{name:"lookingForAJobDescription",component:he,validate:[],placeholder:"My professional skills"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"}),Object(b.jsx)(ue.a,{name:"aboutMe",component:he,validate:[],placeholder:"about me"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[e,":"]}),Object(b.jsx)(ue.a,{name:"contacts."+e,component:pe,validate:[],placeholder:e})]})}))]}),e.error&&Object(b.jsx)("span",{className:"commonError",children:e.error})]})]})})),Ie=function(e){return Object(b.jsxs)("div",{children:[e.isOwner&&Object(b.jsx)("button",{onClick:function(){e.setEditMode(!0)},children:"Edit"}),Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Full name:"}),e.profile.fullName]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"looking For A Job"}),": ",e.profile.lookingForAJob?"yes":"no",e.profile.lookingForAJob&&Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(t){return Object(b.jsx)(ve,{contactTitle:t,contantValue:e.profile.contacts[t]})}))]})]})]})},ve=function(e){var t=e.contactTitle,n=e.contantValue;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[t,":"]}),n]})},Fe=function(e){var t=Object(r.useState)(!1),n=Object(me.a)(t,2),a=n[0],i=n[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"profile__img",src:null!==e.profile.photos.large?e.profile.photos.large:ce})}),e.isOwner&&Object(b.jsx)("input",{className:"profile__imgUpload",type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(b.jsx)(xe,{status:e.status,updateStatus:e.updateStatus}),a?Object(b.jsx)(Ye,{onSubmit:function(t){e.saveProfile(t).then((function(){i(!1)}))},initialValues:e.profile,profile:e.profile}):Object(b.jsx)(Ie,{profile:e.profile,isOwner:e.isOwner,setEditMode:i})]})})},ke=function(e){return e.profile?Object(b.jsxs)("main",{className:"profile",children:[Object(b.jsx)(Fe,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(b.jsx)(Oe,{isOwner:e.isOwner,profileAvatar:e.profile.photos.large,postsData:e.postsData,postValue:e.postValue,addPost:e.addPost,newPostValue:e.newPostValue})]}):Object(b.jsx)(ie,{})},Se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getProfileThunkCreator(e),this.props.getStatusThunkCreator(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(b.jsx)(ke,Object(h.a)(Object(h.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.updateStatusThunkCreator,savePhoto:this.props.savePhotoThunkCreator,saveProfile:this.props.saveProfileThunkCreator}))}}]),n}(a.a.Component),Ae=Object(K.d)(Object(p.b)((function(e){return{profile:e.profilePage.profile,postsData:e.profilePage.postsData,postValue:e.profilePage.newPostText,status:e.profilePage.status,userId:e.auth.userId}}),{addPost:function(e){return{type:"ADD_POST",newPostBody:e}},getProfileThunkCreator:ne,getStatusThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:r=t.sent,n(te(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:0===t.sent.data.resultCode&&n(te(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"SAVE_PHOTO_SUCCESS",photos:r.data.data.photos});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n,r){var a,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,w(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}n(ne(a)),t.next=10;break;case 8:return n(Object(x.a)("profileData",{_error:i.data.messages[0]})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),j.g,z)(Se),we={dialogsData:[{id:"1",name:"Vasya"},{id:"2",name:"Sveta"},{id:"3",name:"Valera"},{id:"4",name:"Hector"}],messagesData:[{id:"1",text:"Wassup"},{id:"2",text:"Wanna eat"},{id:"3",text:"And drink"},{id:"4",text:"And sleep"}]},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var n={text:t.newMessageBody};return Object(h.a)(Object(h.a)({},e),{},{messagesData:[].concat(Object($.a)(e.messagesData),[n])});default:return e}},Ce=function(e){return Object(b.jsxs)("div",{className:"dialogs-list__item active",children:[Object(b.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:""}),Object(b.jsx)(d.b,{to:"/dialogs/"+e.id,children:e.name})]})},Ne=je(100),Pe=function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(ue.a,{name:"newMessageBody",validate:[le,Ne],component:he,placeholder:"Your message"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Add message"})})]})},Ge=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"messages__item",children:e.message})})},Be=Object(se.a)({form:"dialogAddMessageForm"})(Pe),Te=function(e){return Object(b.jsxs)("div",{children:[e.messagesData.map((function(e){return Object(b.jsx)(Ge,{message:e.text},e.id)})),Object(b.jsx)(Be,{onSubmit:function(t){e.addMessage(t.newMessageBody)}})]})},ye=function(e){return Object(b.jsxs)("div",{className:"dialogs",children:[Object(b.jsx)("div",{className:"dialogs-list",children:e.dialogsData.map((function(e){return Object(b.jsx)(Ce,{name:e.name,id:e.id},e.id)}))}),Object(b.jsx)("div",{className:"messages",children:Object(b.jsx)(Te,{messagesData:e.messagesData,addMessage:e.addMessage})})]})},Ee=Object(K.d)(Object(p.b)((function(e){return{dialogsData:e.messagePage.dialogsData,messagesData:e.messagePage.messagesData,messageValue:e.messagePage.newMessageText}}),{addMessage:function(e){return{type:"ADD_MESSAGE",newMessageBody:e}}}),z)(ye),De=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(h.a)(Object(h.a)({},e),r):e}))},Je={usersData:[],pageSize:5,totalItemsCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Re=function(e){return{type:"FOLLOW",userId:e}},Ue=function(e){return{type:"UNFOLLOW",userId:e}},Me=function(e){return{type:"SET_USERS",users:e}},Qe=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ve=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",followingProgress:e,userId:t}},He=function(){var e=Object(m.a)(O.a.mark((function e(t,n,r,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ve(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(Ve(!1,n));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(h.a)(Object(h.a)({},e),{},{usersData:De(e.usersData,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(h.a)(Object(h.a)({},e),{},{usersData:De(e.usersData,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(h.a)(Object(h.a)({},e),{},{usersData:Object($.a)(t.users)});case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.number});case"SET_TOTAL_ITEMS_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalItemsCount:t.count});case"TOGGLE_IS_FETCHING":return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(h.a)(Object(h.a)({},e),{},{followingInProgress:t.followingProgress?[].concat(Object($.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},_e=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.onPageChange,i=e.currentPage,s=e.portionSize,c=void 0===s?10:s,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var j=Math.ceil(o/c),d=Object(r.useState)(1),h=Object(me.a)(d,2),p=h[0],f=h[1],g=(p-1)*c+1,O=p*c;return Object(b.jsxs)("div",{className:"pagination",children:[p>1&&Object(b.jsx)("button",{className:"pagination__btn btnReset",onClick:function(){f(p-1)},children:"PREV"}),u.filter((function(e){return e>=g&&e<=O})).map((function(e){return Object(b.jsx)("span",{onClick:function(){a(e)},className:"pagination__item"+(i===e?" selectedPage":""),children:e},e)})),j>p&&Object(b.jsx)("button",{className:"pagination__btn btnReset",onClick:function(){f(p+1)},children:"NEXT"})]})},Le=function(e){return Object(b.jsx)("div",{children:e.followed?Object(b.jsx)("button",{className:"user__subscribeBtn btnReset",disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){e.unfollowThunkCreator(e.id)},children:"unfollow"}):Object(b.jsx)("button",{className:"user__subscribeBtn btnReset",disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){e.followThunkCreator(e.id)},children:"follow"})})},Xe=function(e){return Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)(d.b,{to:"/profile/".concat(e.id),children:Object(b.jsx)("img",{className:"user__photo",src:null!=e.photos.small?e.photos.small:ce})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"FullName:"})," ",e.name]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Status:"})," ",e.status]}),e.isAuth&&Object(b.jsx)(Le,{id:e.id,followed:e.followed,followingInProgress:e.followingInProgress,unfollowThunkCreator:e.unfollowThunkCreator,followThunkCreator:e.followThunkCreator})]})},Ke=function(e){return Object(b.jsxs)("div",{className:"users",children:[Object(b.jsx)(_e,{totalItemsCount:e.totalItemsCount,pageSize:e.pageSize,onPageChange:e.onPageChange,currentPage:e.currentPage}),e.usersData.map((function(t){return Object(b.jsx)(Xe,{id:t.id,name:t.name,status:t.status,location:t.location,photos:t.photos,followed:t.followed,followingInProgress:e.followingInProgress,followThunkCreator:e.followThunkCreator,unfollowThunkCreator:e.unfollowThunkCreator,isAuth:e.isAuth},t.id)}))]})},qe=function(e){return e.usersPage.usersData},ze=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalItemsCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},nt=function(e){return e.usersPage.followingInProgress},rt=function(e){return e.auth.isAuth},at=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.changePageThunkCreator(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(ie,{}):null,Object(b.jsx)(Ke,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,onPageChange:this.onPageChange,currentPage:this.props.currentPage,usersData:this.props.usersData,followingInProgress:this.props.followingInProgress,followThunkCreator:this.props.followThunkCreator,unfollowThunkCreator:this.props.unfollowThunkCreator,isAuth:this.props.isAuth})]})}}]),n}(a.a.Component),it=Object(p.b)((function(e){return{usersData:qe(e),pageSize:ze(e),totalItemsCount:$e(e),currentPage:et(e),isFetching:tt(e),followingInProgress:nt(e),isAuth:rt(e)}}),{toggleFollowingProgress:Ve,getUsersThunkCreator:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Qe(!0)),n.next=3,v.getUsers(e,t);case 3:a=(a=n.sent).data,r(Qe(!1)),r(Me(a.items)),r({type:"SET_TOTAL_ITEMS_COUNT",count:a.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},changePageThunkCreator:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Qe(!0)),r({type:"SET_CURRENT_PAGE",number:e}),n.next=4,v.getUsers(e,t);case 4:a=(a=n.sent).data,r(Qe(!1)),r(Me(a.items));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:He(n,e,v.follow.bind(v),Re);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:He(n,e,v.unfollow.bind(v),Ue);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(at),st=function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(ue.a,{name:"email",component:pe,validate:[le],placeholder:"email"})}),Object(b.jsx)("div",{children:Object(b.jsx)(ue.a,{name:"password",component:pe,type:"password",validate:[le],placeholder:"Password"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(ue.a,{name:"rememberMe",component:pe,type:"checkbox"}),"Remember me"]}),e.captchaUrl&&Object(b.jsx)("img",{src:e.captchaUrl}),e.captchaUrl&&Object(b.jsx)("div",{children:Object(b.jsx)(ue.a,{name:"captcha",component:pe,validate:[le],placeholder:"Captcha"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Login"})}),e.error&&Object(b.jsx)("span",{className:"commonError",children:e.error})]})},ct=Object(se.a)({form:"login"})(st),ot=Object(p.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,n,r){return function(){var a=Object(m.a)(O.a.mark((function a(i){var s,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C(e,t,n,r);case 2:0===(s=(s=a.sent).data).resultCode?i(y()):(10===s.resultCode&&i(E()),c=s.messages.length>0?s.messages[0]:"Some error",i(Object(x.a)("login",{_error:c})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.loginThunkCreator,n=e.isAuth,r=e.captchaUrl;return n?Object(b.jsx)(j.a,{to:"/profile"}):Object(b.jsxs)("div",{className:"loginPage",children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(ct,{onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe,i=e.captcha;t(n,r,a,i)},captchaUrl:r})]})})),ut={initialized:!1},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(h.a)(Object(h.a)({},e),{},{initialized:!0});default:return e}},jt={friendsList:[{id:"1",name:"Adam",year:"32"},{id:"2",name:"Marshal",year:"21"},{id:"3",name:"Henry",year:"32"}]},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return e},ht=n(124),pt=n(118),bt=Object(K.c)({auth:D,messagePage:We,profilePage:re,usersPage:Ze,sidebar:dt,form:pt.a,app:lt}),ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,gt=Object(K.e)(bt,ft(Object(K.a)(ht.a)));window.store=gt;var Ot=gt,mt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("Some error occured")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(M,{}),Object(b.jsx)(Z,{}),Object(b.jsx)("div",{className:"app-wrapper__main-content",children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{exact:!0,path:"/",children:Object(b.jsx)(j.a,{to:"/profile"})}),Object(b.jsx)(j.b,{path:"/dialogs",children:Object(b.jsx)(Ee,{})}),Object(b.jsx)(j.b,{path:"/profile/:userId?",children:Object(b.jsx)(Ae,{})}),Object(b.jsx)(j.b,{path:"/users",children:Object(b.jsx)(it,{})}),Object(b.jsx)(j.b,{path:"/news",children:Object(b.jsx)(_,{})}),Object(b.jsx)(j.b,{path:"/music",children:Object(b.jsx)(L,{})}),Object(b.jsx)(j.b,{path:"/settings",children:Object(b.jsx)(X,{})}),Object(b.jsx)(j.b,{path:"/login",children:Object(b.jsx)(ot,{})}),Object(b.jsx)(j.b,{path:"*",children:Object(b.jsx)("div",{children:"404 NOT FOUND"})})]})})]}):Object(b.jsx)(ie,{})}}]),n}(a.a.Component),xt=Object(K.d)(Object(p.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(y()).then((function(){e({type:"SET_INITIALIZED"})}))}}}),j.g)(mt),Yt=function(e){return Object(b.jsxs)(d.a,{children:[" ",Object(b.jsx)(p.a,{store:Ot,children:Object(b.jsx)(xt,{})})]})},It=(n(281),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))});s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Yt,{})}),document.getElementById("root")),It()}},[[282,1,2]]]);
//# sourceMappingURL=main.57b2313f.chunk.js.map