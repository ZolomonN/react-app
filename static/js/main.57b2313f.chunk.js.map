{"version":3,"sources":["components/Header/Login/Auth.jsx","api/api.js","redux/authReducer.js","components/Header/Login/AuthContainer.jsx","components/img/headerLogo.svg","components/Header/Header.jsx","components/Sidebar/friendFromList/Friend.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarContainer.jsx","components/Nav/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","hoc/withAuthRedirect.js","redux/profileReducer.js","components/img/loader.svg","components/common/Preloader/Preloader.jsx","components/img/smallProfilePhoto.png","components/Profile/MyPosts/Post/Post.jsx","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","components/Profile/MyPosts/PostForm/PostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","redux/dialogsReducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Messages/MessageForm/MessageForm.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/Messages/MessagesContainer.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","utils/object-helpers.js","redux/usersReducer.js","components/common/Pagination/Pagination.jsx","components/Users/User/FollowUnfollowBtn/FollowUnfollowBtn.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","App.js","reportWebVitals.js","index.js"],"names":["Auth","props","logout","logoutThunkCreator","className","isAuth","login","onClick","to","instanse","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","unfollow","userId","delete","follow","post","profileAPI","status","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","securityAPI","initialState","isFetching","captchaUrl","setAuthUserData","type","payload","getCaptchaUrlSuccess","authThunkCreator","dispatch","a","response","data","resultCode","id","getCaptchaUrlThunkCreator","url","authReducer","state","action","AuthAPIComponent","this","React","Component","AuthContainer","connect","auth","Header","src","headerLogo","Friend","alt","name","year","Sidebar","friendsList","map","friend","SidebarContainer","sidebar","Nav","News","Music","Settings","mapStateToProps","withAuthRedirect","RedirectComponent","postsData","text","likes","setStatus","getProfileThunkCreator","profileReducer","newPost","newPostBody","filter","postId","photos","Preloader","preloader","Post","profileAvatar","userPhoto","message","likecounter","required","value","MaxLengthCreator","maxLength","length","Textarea","input","meta","hasError","error","touched","Input","maxLength10","PostForm","onSubmit","handleSubmit","Field","component","placeholder","validate","PostReduxForm","reduxForm","form","MyPosts","memo","isOwner","addPost","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","autoFocus","onBlur","updateStatus","onChange","e","target","onDoubleClick","ProfileDataReduxForm","Object","keys","contacts","title","ProfileData","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contantValue","Contact","ProfileInfo","large","files","savePhoto","saveProfile","then","initialValues","Profile","postValue","newPostValue","ProfileAPIComponent","match","params","getStatusThunkCreator","refreshProfile","prevProps","prevState","updateStatusThunkCreator","savePhotoThunkCreator","saveProfileThunkCreator","compose","profilePage","newPostText","file","profileData","getState","stopSubmit","_error","messages","Promise","reject","withRouter","dialogsData","messagesData","dialogsReducer","newMessage","newMessageBody","DialogItem","maxLength100","MessageForm","Messages","MessageReduxForm","MessagesContainer","addMessage","Dialogs","dialog","messagePage","messageValue","newMessageText","updateObjectInArray","items","itemId","objPropName","newObjProps","u","usersData","totalItemsCount","followingInProgress","setUsers","users","toggleIsFetching","toggleFollowingProgress","followingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","number","count","Pagination","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","p","FollowUnfollowBtn","disabled","some","unfollowThunkCreator","followThunkCreator","User","small","Users","location","usersPage","getPageSize","getTotalItemsCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","UsersAPIComponent","pageNumber","changePageThunkCreator","getUsersThunkCreator","UsersContainer","totalCount","bind","LoginForm","LoginReduxForm","APILogin","loginThunkCreator","initialized","appReducer","sidebarReducer","reducers","combineReducers","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","addEventListener","removeEventListener","exact","path","DialogsContainer","ProfileContainer","AppContainer","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57b2313f.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst Auth = (props) => {\n    const logout = props.logoutThunkCreator;\n    return <div className='header__loginBlock loginBlock'>\n        {props.isAuth \n        ? <div className='loginBlock__content'>\n            <div className='loginBlock__auth'>Привет, {props.login}!</div>\n            <button className='loginBlock__logout btnReset' onClick={logout}>Выйти</button>\n        </div>\n        : <NavLink className='loginBlock__login' to='/login'>Авторизация</NavLink>}\n    </div>\n};\n\nexport default Auth;","import axios from \"axios\";\n\n\nconst instanse = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '4601f658-e994-4c5e-8ce3-24e3b849af41',\n    },\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instanse.get(`users?page=${currentPage}&count=${pageSize}`);\n    },\n    unfollow(userId) {\n        return instanse.delete(`follow/${userId}`);\n    },\n    follow(userId) {\n        return instanse.post(`follow/${userId}`, {});\n    },\n};\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instanse.get(`profile/${userId}`);\n    },\n    getStatus(userId) {\n        return instanse.get(`profile/status/${userId}`);\n    },\n    updateStatus(status) {\n        return instanse.put(`profile/status`, {status: status});\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append('image', photoFile);\n\n        return instanse.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    saveProfile(profile) {\n        return instanse.put(`profile`, profile);\n    },\n    \n\n};\n\nexport const authAPI = {\n    me() {\n        return instanse.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instanse.post(`auth/login`, {email, password, rememberMe, captcha});\n    },\n    logout() {\n        return instanse.delete(`auth/login`);\n    },\n};\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instanse.get(`security/get-captcha-url`);\n    }\n};\n\n\n","import { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../api/api\";\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isFetching: false,\n    isAuth: false,\n    captchaUrl: null\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: 'SET_AUTH_USER_DATA',\n    payload: {\n        userId,\n        email,\n        login,\n        isAuth\n    }\n});\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n    type: 'GET_CAPTCHA_URL_SUCCESS',\n    captchaUrl\n});\n\nconst authReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case 'SET_AUTH_USER_DATA': \n        return {\n            ...state,\n            ...action.payload,\n        };\n        case 'GET_CAPTCHA_URL_SUCCESS': \n        return {\n            ...state,\n            captchaUrl: action.captchaUrl\n        };\n        default: \n            return state;\n    };\n};\n\nexport const authThunkCreator = () => async (dispatch) => {\n   let response = await authAPI.me();\n   response = response.data;\n    if (response.resultCode === 0) {\n        let {id, email, login} = response.data;\n        dispatch(setAuthUserData(id, email, login, true))\n    };\n}\n\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    response = response.data;\n    if (response.resultCode === 0) {\n        dispatch(authThunkCreator());\n    } else {\n        if (response.resultCode === 10) {\n            dispatch(getCaptchaUrlThunkCreator());\n        }\n        let message = response.messages.length > 0 ? response.messages[0] : 'Some error';\n        dispatch(stopSubmit('login', {_error: message}));\n    };\n}\nexport const getCaptchaUrlThunkCreator = () => async (dispatch) => {\n    let response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n}\nexport const logoutThunkCreator = () => async (dispatch) => {\n    let response = await authAPI.logout();\n    response = response.data;\n    if (response.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    };\n}\n\nexport default authReducer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Auth from './Auth';\nimport {logoutThunkCreator} from '../../../redux/authReducer';\n\nclass AuthAPIComponent extends React.Component {\n    render() {\n        return <Auth {...this.props}/>\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login\n    };\n};\n\n\n\nconst AuthContainer = connect(mapStateToProps, { logoutThunkCreator})(AuthAPIComponent);\n\nexport default AuthContainer;","export default __webpack_public_path__ + \"static/media/headerLogo.eb27617d.svg\";","import React from 'react';\nimport AuthContainer from './Login/AuthContainer';\nimport headerLogo from './../img/headerLogo.svg'\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={headerLogo} />\n      <AuthContainer />\n    </header>\n  );\n};\n\nexport default Header;","import React from 'react';\n\nconst Friend = (props) => {\n    return (\n        <div className = 'friend'>\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\" alt=\"\"/>\n            <div>\n                <span>{`${props.name}, ${props.year}`}</span>\n            </div>\n        </div>\n    );\n};\n\nexport default Friend;","import React from 'react';\nimport Friend from './friendFromList/Friend';\n\nconst Sidebar = (props) => {\n    return (\n        <div className = 'sidebar'>\n            <div className = 'friendsList'>\n                {props.friendsList.map(friend => <Friend key={friend.id} name = {friend.name} year = {friend.year} />)}\n            </div>\n        </div>\n    )\n};\n\nexport default Sidebar;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Sidebar from './Sidebar';\n\n\nconst mapStateToProps = (state) => {\n    return {\n        friendsList: state.sidebar.friendsList,\n    };\n};\n\n\n\nconst SidebarContainer = connect(mapStateToProps, {})(Sidebar);\n\nexport default SidebarContainer;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport SidebarContainer from '../Sidebar/SidebarContainer';\n\n\n\n\nconst Nav = (props) => {\n  return (\n      <nav className = \"nav\">\n        <ul className = 'nav__list'>\n          <li><NavLink className = 'nav__link' to=\"/profile\">Profile</NavLink></li>\n          <li><NavLink className = 'nav__link' to=\"/dialogs\">Messages*</NavLink></li>\n          <li><NavLink className = 'nav__link' to=\"/users\">Users</NavLink></li>\n          <li><NavLink className = 'nav__link' to=\"/news\">News*</NavLink></li>\n          <li><NavLink className = 'nav__link' to=\"/music\">Music*</NavLink></li>\n          <li><NavLink className = 'nav__link' to=\"/settings\">Settings*</NavLink></li>\n        </ul>\n        <SidebarContainer/>\n      </nav>\n    \n  );\n};\n\nexport default Nav;","import React from 'react';\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    );\n};\n\nexport default News;","import React from 'react';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    );\n};\n\nexport default Music;","import React from 'react';\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    );\n};\n\nexport default Settings;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth\n    };\n};\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\n            return <Component {...this.props} />\n        }\n    };\n\n    const ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent);\n\n    return ConnectedAuthRedirectComponent;\n};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI } from \"../api/api\";\n\nlet initialState = {\n    postsData: [\n        {id: '1', text: 'Hi, its me - Mario!', likes: '3'},\n        {id: '2', text: 'My first post', likes: '10'},\n        {id: '3', text: 'My second post', likes: '41'},\n        {id: '4', text: 'My third post', likes: '23'},\n    ],\n    profile: null,\n    status: null,\n};\n\nexport const addPost = (newPostBody) => ({type: 'ADD_POST', newPostBody});\nexport const deletePost = (postId) => ({type: 'DELETE_POST', postId});\nexport const setUserProfile = (profile) => ({type: 'SET_USER_PROFILE', profile});\nexport const setStatus = (status) => ({type: 'SET_STATUS', status});\nexport const savePhotoSuccess = (photos) => ({type: 'SAVE_PHOTO_SUCCESS', photos});\n\nconst profileReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case 'ADD_POST': {\n            let newPost = {\n                id: '5',\n                text: action.newPostBody,\n                likes: '0'\n            };\n            return {\n                ...state,\n                postsData: [...state.postsData, newPost],\n            };\n        }\n        case 'DELETE_POST': {\n            return {...state, \n                postsData: state.postsData.filter(post => post.id != action.postId)}\n        }\n        case 'SET_USER_PROFILE': {\n            return {...state, profile: action.profile}\n        }\n        case 'SET_STATUS': {\n            return {...state, status: action.status}\n        }\n        case 'SAVE_PHOTO_SUCCESS': {\n            return {...state, profile: {...state.profile, photos: action.photos}}\n        }\n        default: \n            return state;\n    };\n};\n\nexport const getProfileThunkCreator = (userId) => async (dispatch) => {\n    let response = await profileAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n};\n\nexport const getStatusThunkCreator = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n};\nexport const updateStatusThunkCreator = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status);\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n    };\n};\n\nexport const savePhotoThunkCreator = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    };\n};\nexport const saveProfileThunkCreator = (profileData) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    let response = await profileAPI.saveProfile(profileData);\n    if (response.data.resultCode === 0) {\n        dispatch(getProfileThunkCreator(userId));\n    } else {\n        dispatch(stopSubmit('profileData', {_error: response.data.messages[0]}));\n        return Promise.reject(response.data.messages[0]);\n    };\n};\n\nexport default profileReducer;\n","export default __webpack_public_path__ + \"static/media/loader.6d4738b4.svg\";","import React from 'react';\nimport preloader from '../../img/loader.svg'\n\nconst Preloader = (props) => {\n    return <div className='preloader'><img src = {preloader} /></div>\n};\n\nexport default Preloader;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC+lBMVEUAAAAAAACAgIBVVVWAgIBmZmZVVVVtbW1gYGBVVVVmZmZdXV1qampiYmJbW1tmZmZgYGBaWlpjY2NeXl5mZmZhYWFdXV1kZGRgYGBcZmZiYmJeXl5kZGRhYWFeXl5jY2NgYGBdZGRiYmJfX19jY2NgYGBeXl5iYmJgYGBdZGRhYWFfX19gYGBeXl5iYmJgYGBeY2NhYWFfX19iYmJgYGBeY2NhYWFgYGBeYmJhYWFfX19iYmJgYGBfY2NhYWFgYGBeYmJhYWFfX19gYGBfYmJhYWFgYGBeYmJgYGBfY2NhYWFgYGBfYmJhYWFgYGBeYmJgYGBfYmJhYWFgYGBfYmJhYWFgYGBhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYWFgYGBgYmJhYWFgYGBfYmJhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYmJgYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJgYWFhYWFgYWFfYWFgYGBgYWFhYWFgYmJgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYmJgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFRkljDAAAA/XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKy0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDRUZHSElKS0xNTk9QUVJTVFVW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\"","import React from 'react';\nimport userPhoto from '../../../img/smallProfilePhoto.png'\n\nconst Post = (props) => {\n    return (\n        <div className = {`profile__post post`}>\n            <div>\n                <img className = 'post__img' src={props.profileAvatar !== null \n                    ? props.profileAvatar \n                    : userPhoto} alt=\"\"/>\n            </div>\n            <div>\n                <span>{props.message}</span>\n            </div>\n            <div>\n                <span>Like: {props.likecounter}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Post;","export const required = (value) => {\n    if (value) return undefined;\n    return 'Field is required';\n};\n\nexport const MaxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\n    return undefined;\n};","import React from 'react';\n\nexport const Textarea = ({input, meta, ...props}) => {\n    const hasError = meta.error && meta.touched;\n    return (\n        <div>\n            <div>\n                <textarea className={hasError ? 'error' : ''} {...input} {...props}/>\n            </div>\n            {hasError && <span>{meta.error}</span>}\n            \n        </div>\n    )\n};\n\nexport const Input = ({input, meta, ...props}) => {\n        const hasError = meta.error && meta.touched;\n        return (\n            <div>\n                <div>\n                    <input className={hasError ? 'error' : ''} {...input} {...props}/>\n                </div>\n                {hasError && <span>{meta.error}</span>}\n                \n            </div>\n        )\n    };","import React from 'react';\nimport { Field } from 'redux-form';\nimport { MaxLengthCreator, required } from '../../../../utils/validators/validators';\nimport { Textarea } from '../../../common/FormsControls/FormsControls';\n\nconst maxLength10 = MaxLengthCreator(10);\n\nconst PostForm = (props) => {\n    return (\n        <form className='profile__postForm' onSubmit={props.handleSubmit}>\n            <div><Field name={'newPostBody'} component={Textarea} placeholder={'Your post'}\n            validate={[required, maxLength10 ]}/></div>\n            <div><button>Add post</button></div>\n        </form>\n    )\n};\n\nexport default PostForm;\n\n\n","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport Post from './Post/Post';\nimport PostForm from './PostForm/PostForm';\n\nconst PostReduxForm = reduxForm({ form: 'profileAddPostForm' })(PostForm);\n\n\n\nconst MyPosts = React.memo(props => {\n    const onSubmit = (value) => {\n        props.addPost(value.newPostBody)\n    };\n    return (\n        <div className='profile__postsBlock'>\n            {props.isOwner && <PostReduxForm onSubmit={onSubmit} />}\n            {props.postsData.map(post => <Post key={post.id} profileAvatar={props.profileAvatar} message={post.text} likecounter={post.likes} />)}\n        </div>\n    )\n});\n\n/* shouldComponentUpdate(nextProps, nextState) {\n        return this.props != nextProps || this.state != nextState;\n    } */ /* PureComponent делает ~ это же. - memo  */ \n\nexport default MyPosts;","import React, { useEffect, useState } from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status)\n\n    useEffect( () => {\n        setStatus(props.status)\n    }, [props.status]);\n\n    return (\n        <div>\n            { editMode\n                ? <input autoFocus={true} onBlur={() => {\n                    setEditMode(false);\n                    props.updateStatus(status)\n                }} value={status} onChange={(e) => {\n                    setStatus(e.target.value);\n                }}></input>\n                : <span onDoubleClick={() => {setEditMode(true);}}>{status}</span>}\n        </div>\n    )\n};\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Input, Textarea } from '../../common/FormsControls/FormsControls';\n\nconst ProfileDataForm = (props) => {\n    return <form onSubmit={props.handleSubmit}>\n        <button>Save</button>\n        <div>\n            <div><b>Full name:</b><Field name={'fullName'} component={Input} validate={[]} placeholder={'Full name'} /></div>\n        </div>\n        <div>\n            <div><b>looking For A Job</b>:<Field name={'lookingForAJob'} component={Input} type={'checkbox'} validate={[]} /></div>\n            <div><b>My professional skills:</b><Field name={'lookingForAJobDescription'} component={Textarea} validate={[]} placeholder={'My professional skills'} /></div>\n            <div><b>About me:</b><Field name={'aboutMe'} component={Textarea} validate={[]} placeholder={'about me'} /></div>\n            <div><b>Contacts:</b> {Object.keys(props.profile.contacts).map(title => {\n                return <div><b>{title}:</b><Field name={'contacts.' + title} component={Input} validate={[]} placeholder={title} /></div>})}\n            </div>\n            { props.error && <span className='commonError'>{props.error}</span>}\n        </div>\n    </form>\n};\n\nconst ProfileDataReduxForm = reduxForm({\n    form: 'profileData'\n})(ProfileDataForm);\n\nexport default ProfileDataReduxForm;","import React, { useState } from 'react';\n\nimport userPhoto from '../../img/smallProfilePhoto.png'\nimport ProfileStatusWithHooks from '../ProfileStatus/ProfileStatusWithHooks';\nimport ProfileDataReduxForm from './ProfileDataForm';\n\n\nconst ProfileInfo = (props) => {\n    let [editMode, setEditMode] = useState(false);\n    \n    const onSubmit = (formData) => {\n        props.saveProfile(formData).then(() => {\n            setEditMode(false);\n        });\n    }\n    return (\n        <div>\n            <div>\n                <div>\n                <img className=\"profile__img\" src={props.profile.photos.large !== null \n                    ? props.profile.photos.large \n                    : userPhoto} />   \n                </div>\n                {props.isOwner && <input className='profile__imgUpload' type={'file'} onChange={(e) => {\n                    if (e.target.files.length) {\n                        props.savePhoto(e.target.files[0])\n                    }\n                }} />}\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\n                {editMode \n                ? <ProfileDataReduxForm onSubmit={onSubmit} initialValues ={props.profile} profile = {props.profile}/>\n                : <ProfileData profile ={props.profile} isOwner={props.isOwner} setEditMode = {setEditMode}/> }\n            </div>\n        </div>\n    )\n};\n\nconst ProfileData = (props) => {\n    return <div>\n        {props.isOwner && <button onClick={() => {\n            props.setEditMode(true)\n        }}>Edit</button>}\n        <div>\n            <span><b>Full name:</b>{props.profile.fullName}</span>\n        </div>\n        <div>\n            <b>looking For A Job</b>: {props.profile.lookingForAJob ? 'yes' : 'no'}\n            {props.profile.lookingForAJob && <div><b>My professional skills:</b> {props.profile.lookingForAJobDescription}</div>}\n            <div><b>About me:</b> {props.profile.aboutMe}</div>\n            <div><b>Contacts:</b> {Object.keys(props.profile.contacts).map(title => {\n                return <Contact contactTitle={title} contantValue={props.profile.contacts[title]} />\n            })}</div>\n        </div>\n    </div>\n}\n\n\nexport const Contact = ({ contactTitle, contantValue }) => {\n    return <div>\n        <b>{contactTitle}:</b>{contantValue}\n    </div>\n};\n\nexport default ProfileInfo;","import React from 'react';\nimport Preloader from '../common/Preloader/Preloader';\nimport MyPosts from './MyPosts/MyPosts';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\n\n\n\n\nconst Profile = (props) => {\n  if (!props.profile) {\n    return <Preloader />\n}\n  return (\n    <main className=\"profile\">\n      <ProfileInfo profile = {props.profile}\n       status = {props.status} \n       updateStatus = {props.updateStatus}\n       isOwner = {props.isOwner}\n       savePhoto = {props.savePhoto}\n       saveProfile = {props.saveProfile}/>\n      <MyPosts \n      isOwner = {props.isOwner}\n      profileAvatar = {props.profile.photos.large}\n      postsData = {props.postsData}\n      postValue = {props.postValue}\n      addPost = {props.addPost}\n      newPostValue = {props.newPostValue}/>\n    </main>\n  );\n};\n\nexport default Profile;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { addPost, getProfileThunkCreator,\n   getStatusThunkCreator, updateStatusThunkCreator, \n   savePhotoThunkCreator, saveProfileThunkCreator } from '../../redux/profileReducer';\n\nimport Profile from './Profile';\n\n\nclass ProfileAPIComponent extends React.Component {\n\n  refreshProfile() {\n    let userId = this.props.match.params.userId\n    if(!userId) {\n      userId = this.props.userId;\n    };\n    this.props.getProfileThunkCreator(userId);\n    this.props.getStatusThunkCreator(userId);\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.match.params.userId != prevProps.match.params.userId)\n    this.refreshProfile();\n  }\n  \n  render() {\n    return <Profile \n    {...this.props} \n    isOwner = {!this.props.match.params.userId}\n    profile = {this.props.profile} \n    updateStatus = {this.props.updateStatusThunkCreator}\n    savePhoto = {this.props.savePhotoThunkCreator}\n    saveProfile = {this.props.saveProfileThunkCreator}/>\n  }\n\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.profilePage.profile,\n    postsData: state.profilePage.postsData,\n    postValue: state.profilePage.newPostText,\n    status: state.profilePage.status,\n    userId: state.auth.userId,\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {addPost, getProfileThunkCreator,\n     getStatusThunkCreator, updateStatusThunkCreator,\n     savePhotoThunkCreator, saveProfileThunkCreator}),\n  withRouter,\n  withAuthRedirect\n)(ProfileAPIComponent);","let initialState = {\n    dialogsData: [\n        {id: '1', name: 'Vasya'},\n        {id: '2', name: 'Sveta'},\n        {id: '3', name: 'Valera'},\n        {id: '4', name: 'Hector'},\n    ],\n    messagesData: [\n        {id: '1', text: 'Wassup'},\n        {id: '2', text: 'Wanna eat'},\n        {id: '3', text: 'And drink'},\n        {id: '4', text: 'And sleep'},\n    ],\n};\n\nexport const addMessage = (newMessageBody) => ({type: 'ADD_MESSAGE', newMessageBody});\n\nconst dialogsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'ADD_MESSAGE': {\n            let newMessage = {\n            text: action.newMessageBody,\n            };\n            return {\n                ...state,\n                messagesData: [...state.messagesData, newMessage],\n            };\n        }\n        default:\n            return state;\n    };\n};\n\nexport default dialogsReducer;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst DialogItem = (props) => {\n    return (\n        <div className = {`dialogs-list__item active`}>\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\" alt=\"\"/>\n            <NavLink to = {'/dialogs/' + props.id}>{props.name}</NavLink>\n        </div>\n    );\n};\n\nexport default DialogItem;","import React from 'react';\nimport { Field } from 'redux-form';\nimport { Textarea } from '../../../common/FormsControls/FormsControls';\nimport { MaxLengthCreator, required } from '../../../../utils/validators/validators'\n\nconst maxLength100 = MaxLengthCreator(100);\n\nconst MessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div><Field name={'newMessageBody'} validate={[required, maxLength100]}\n            component={Textarea} placeholder={'Your message'}/></div>\n            <div><button>Add message</button></div>\n        </form>\n    )\n};\n\nexport default MessageForm;","import React from 'react';\n\nconst Messages = (props) => {\n    return <div>\n        <div className=\"messages__item\">{props.message}</div>\n    </div>\n};\n\nexport default Messages;","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport MessageForm from './MessageForm/MessageForm'\nimport Messages from './Messages';\n\nconst MessageReduxForm = reduxForm({form: 'dialogAddMessageForm'})(MessageForm);\n\nconst MessagesContainer = (props) => {\n\n    const onSubmit = (value) => {\n        props.addMessage(value.newMessageBody)\n    }\n    return ( \n        <div>\n            {props.messagesData.map(message => <Messages key={message.id} message = {message.text}/>)}\n            <MessageReduxForm onSubmit={onSubmit}/>\n        </div>\n    );\n};\n\n\nexport default MessagesContainer;","import React from 'react';\nimport DialogItem from './DialogItem/DialogItem';\nimport MessagesContainer from './Messages/MessagesContainer';\n\n\nconst Dialogs = (props) => {\n    return (\n        <div className = 'dialogs'>\n            <div className = 'dialogs-list'>\n                {props.dialogsData.map(dialog =>  <DialogItem key={dialog.id} name = {dialog.name} id = {dialog.id}/>)}\n            </div>\n            <div className = 'messages'>\n                <MessagesContainer messagesData = {props.messagesData} addMessage={props.addMessage}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Dialogs;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { addMessage } from '../../redux/dialogsReducer';\nimport Dialogs from './Dialogs';\n\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        dialogsData: state.messagePage.dialogsData,\n        messagesData: state.messagePage.messagesData,\n        messageValue: state.messagePage.newMessageText,    \n    };\n};\n\n\nexport default compose(\n    connect(mapStateToProps, {addMessage}),\n    withAuthRedirect\n)(Dialogs);","export const updateObjectInArray = (items, itemId, objPropName, newObjProps ) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps};\n        }\n        return u;\n    })\n};","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\nlet initialState = {\n    usersData: [],\n    pageSize: 5,\n    totalItemsCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [],\n};\n\nexport const follow = (userId) => ({type: 'FOLLOW', userId});\nexport const unfollow = (userId) => ({type: 'UNFOLLOW', userId});\nexport const setCurrentPage = (number) => ({type: 'SET_CURRENT_PAGE', number});\nexport const setTotalItemsCount = (count) => ({type: 'SET_TOTAL_ITEMS_COUNT', count});\nexport const setUsers = (users) => ({type: 'SET_USERS', users});\nexport const toggleIsFetching = (isFetching) => ({type: 'TOGGLE_IS_FETCHING', isFetching});\nexport const toggleFollowingProgress = (followingProgress, userId) => ({type: 'FOLLOWING_IN_PROGRESS', followingProgress, userId});\n\nconst usersReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case 'FOLLOW': \n        return {\n            ...state,\n            usersData: updateObjectInArray(state.usersData, action.userId, \"id\", {followed: true}),\n        };\n        case 'UNFOLLOW': \n        return {\n            ...state,\n            usersData: updateObjectInArray(state.usersData, action.userId, \"id\", {followed: false}),\n        };\n        case 'SET_USERS':\n            return {...state, usersData: [...action.users]};\n        case 'SET_CURRENT_PAGE':\n            return {...state, currentPage: action.number};\n        case 'SET_TOTAL_ITEMS_COUNT':\n            return {...state, totalItemsCount: action.count};\n        case 'TOGGLE_IS_FETCHING':\n            return {...state, isFetching: action.isFetching};\n        case 'FOLLOWING_IN_PROGRESS':\n            return {...state, \n                followingInProgress: action.followingProgress \n                ? [...state.followingInProgress, action.userId] \n                : state.followingInProgress.filter(id => id != action.userId)};\n        default: \n            return state;\n    };\n};\n\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let response = await usersAPI.getUsers(currentPage, pageSize);\n    response = response.data;\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(response.items));\n    dispatch(setTotalItemsCount(response.totalCount));\n};\n\nexport const changePageThunkCreator = (pageNumber, pageSize) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(pageNumber));\n    let response = await usersAPI.getUsers(pageNumber, pageSize);\n    response = response.data;\n    dispatch(toggleIsFetching(false)); \n    dispatch(setUsers(response.items));\n};\n\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, id));\n    let response = await apiMethod(id);\n    response = response.data;\n    if (response.resultCode === 0) {\n        dispatch(actionCreator(id));\n    };\n    dispatch(toggleFollowingProgress(false, id));\n}\n\nexport const followThunkCreator = (id) => async (dispatch) => {\n    followUnfollowFlow(dispatch, id, usersAPI.follow.bind(usersAPI), follow);\n}\nexport const unfollowThunkCreator = (id) => async (dispatch) => {\n    followUnfollowFlow(dispatch, id, usersAPI.unfollow.bind(usersAPI), unfollow);\n};\n\nexport default usersReducer;\n","import React, { useState } from 'react';\n\n\nconst Pagination = ({totalItemsCount, pageSize, onPageChange, currentPage, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i); \n    };\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n    return <div className='pagination'>\n        {portionNumber > 1 && \n        <button className='pagination__btn btnReset' onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\n        {pages\n        .filter(p => p >= leftPortionPageNumber && p <=rightPortionPageNumber)\n        .map(p => <span\n            key={p}\n            onClick={() => {\n                onPageChange(p);\n            }}\n            className={'pagination__item' +  (currentPage === p ? ' ' + 'selectedPage' : '')}>{p}</span>)}\n        {portionCount > portionNumber &&\n        <button className='pagination__btn btnReset' onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\n    </div>\n};\n\nexport default Pagination;","import React from 'react';\n\nconst FollowUnfollowBtn = (props) => {\n    return <div>\n        {props.followed\n        ? <button className='user__subscribeBtn btnReset' disabled = {props.followingInProgress.some(id => id === props.id)} \n            onClick={() => {props.unfollowThunkCreator(props.id)}}>unfollow</button>\n        : <button className='user__subscribeBtn btnReset' disabled = {props.followingInProgress.some(id => id === props.id)} \n            onClick={() => {props.followThunkCreator(props.id)}}>follow</button>}\n    </div>\n};\n\nexport default FollowUnfollowBtn;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport userPhoto from '../../img/smallProfilePhoto.png'\nimport FollowUnfollowBtn from './FollowUnfollowBtn/FollowUnfollowBtn';\n\nconst User = (props) => {\n    return (\n        <div className='user'>\n            <NavLink to={`/profile/${props.id}`}>\n                <img className = 'user__photo'\n                src = {props.photos.small != null ? props.photos.small : userPhoto}/>\n            </NavLink>\n            <div><b>FullName:</b> {props.name}</div>\n            <div><b>Status:</b> {props.status}</div>\n            {props.isAuth && <FollowUnfollowBtn id={props.id}\n            followed = {props.followed} \n            followingInProgress = {props.followingInProgress}\n            unfollowThunkCreator = {props.unfollowThunkCreator}\n            followThunkCreator = {props.followThunkCreator}/>}\n        </div>\n    )\n};\n\nexport default User;","import React from 'react';\nimport Pagination from '../common/Pagination/Pagination';\nimport User from \"./User/User\";\n\n\nconst Users = (props) => {  \n    return <div className='users'>\n        <Pagination \n         totalItemsCount = {props.totalItemsCount}\n         pageSize = {props.pageSize}\n         onPageChange = {props.onPageChange}\n         currentPage = {props.currentPage}\n        />\n        {props.usersData.map(users => <User\n            key={users.id}\n            id={users.id}\n            name={users.name}\n            status={users.status}\n            location={users.location}\n            photos = {users.photos}\n            followed={users.followed}\n            followingInProgress = {props.followingInProgress}\n            followThunkCreator = {props.followThunkCreator}\n            unfollowThunkCreator = {props.unfollowThunkCreator}\n            isAuth = {props.isAuth}\n        />)}\n    </div>\n};\n\nexport default Users;","export const getUsers = (state) => {\n    return state.usersPage.usersData;\n};\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n};\nexport const getTotalItemsCount = (state) => {\n    return state.usersPage.totalItemsCount;\n};\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n};\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n};\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n};\nexport const getIsAuth = (state) => {\n    return state.auth.isAuth;\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getUsersThunkCreator, changePageThunkCreator, followThunkCreator, unfollowThunkCreator, toggleFollowingProgress } from '../../redux/usersReducer';\nimport Preloader from '../common/Preloader/Preloader';\nimport Users from './Users';\nimport { getCurrentPage, getFollowingInProgress, \n    getIsAuth, \n    getIsFetching, getPageSize, \n    getTotalItemsCount, getUsers } from '../../redux/usersSelectors';\n\n\nclass UsersAPIComponent extends React.Component {\n    componentDidMount() {\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\n    };\n\n    onPageChange = (pageNumber) => {\n        this.props.changePageThunkCreator(pageNumber, this.props.pageSize);\n    };\n\n    render() {\n        return <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n            totalItemsCount={this.props.totalItemsCount}\n            pageSize={this.props.pageSize}\n            onPageChange={this.onPageChange}\n            currentPage={this.props.currentPage}\n            usersData={this.props.usersData}\n            followingInProgress = {this.props.followingInProgress}\n            followThunkCreator = {this.props.followThunkCreator}\n            unfollowThunkCreator = {this.props.unfollowThunkCreator}\n            isAuth = {this.props.isAuth}\n        />\n        </>\n    };\n};\n\n/* const mapStateToProps = (state) => {\n    return {\n        usersData: state.usersPage.usersData,\n        pageSize: state.usersPage.pageSize,\n        totalUsersCount: state.usersPage.totalUsersCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        followingInProgress: state.usersPage.followingInProgress,\n    };\n}; */\n\nconst mapStateToProps = (state) => {\n    return {\n        usersData: getUsers(state),\n        pageSize: getPageSize(state),\n        totalItemsCount: getTotalItemsCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        isAuth: getIsAuth(state),\n    };\n};\n\n\nconst UsersContainer = connect(mapStateToProps, \n    {\n        toggleFollowingProgress,\n        getUsersThunkCreator,\n        changePageThunkCreator,\n        followThunkCreator,\n        unfollowThunkCreator,\n    })(UsersAPIComponent);\n\nexport default UsersContainer;","import React from 'react';\nimport { Field } from 'redux-form';\nimport { required } from '../../../utils/validators/validators';\nimport { Input } from '../../common/FormsControls/FormsControls';\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div><Field name={'email'} component={Input} validate={[required]} placeholder={'email'}/></div>\n            <div><Field name={'password'} component={Input} type={'password'} validate={[required]} placeholder={'Password'}/></div>\n            <div><Field name={'rememberMe'} component={Input} type={'checkbox'}/>Remember me</div>\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\n            {props.captchaUrl && <div><Field name={'captcha'} component={Input} validate={[required]} placeholder={'Captcha'}/></div>}\n            <div><button>Login</button></div>\n           { props.error && <span className='commonError'>{props.error}</span>}\n        </form>\n    )\n};\n\nexport default LoginForm;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm } from 'redux-form';\nimport LoginForm from './LoginForm/LoginForm';\nimport { loginThunkCreator } from '../../redux/authReducer'\nimport { Redirect } from 'react-router';\n\nconst LoginReduxForm = reduxForm({\n    form: 'login'\n})(LoginForm);\n\nconst Login = ({loginThunkCreator, isAuth, captchaUrl}) => {\n    const onSubmit = ({email, password, rememberMe, captcha}) => {\n        loginThunkCreator(email,password, rememberMe, captcha)\n    }\n    if (isAuth) return <Redirect to={'/profile'}/>\n    return <div className='loginPage'>\n        <h1>Login</h1>\n        <LoginReduxForm  onSubmit={onSubmit} captchaUrl={captchaUrl}/>\n    </div>\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        captchaUrl: state.auth.captchaUrl,\n        isAuth: state.auth.isAuth   \n    };\n};\n\nconst APILogin = connect(mapStateToProps, {loginThunkCreator})(Login);\n\n\n\nexport default APILogin;","import { authThunkCreator } from \"./authReducer\";\n\nlet initialState = {\n    initialized: false\n};\nconst initializedSucces = () => ({type: 'SET_INITIALIZED'});\n\nconst appReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case 'SET_INITIALIZED': \n        return {\n            ...state,\n            initialized: true\n        };\n        default: \n            return state;\n    };\n};\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(authThunkCreator());\n    promise.then(() => {\n        dispatch(initializedSucces());\n    });\n};\n\n\nexport default appReducer;\n","let initialState = {\n    friendsList: [\n        {id:'1', name: 'Adam', year: '32'},\n        {id:'2', name: 'Marshal', year: '21'},\n        {id:'3', name: 'Henry', year: '32'},\n    ]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n};\n\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport authReducer from \"./authReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport profileReducer from \"./profileReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./appReducer\";\n\nlet reducers = combineReducers({\n    auth: authReducer,\n    messagePage: dialogsReducer,\n    profilePage: profileReducer,\n    usersPage: usersReducer,\n    sidebar: sidebarReducer,\n    form: formReducer, \n    app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.store = store\nexport default store;\n","import React from 'react';\nimport { HashRouter, Redirect, Route, Switch, withRouter } from 'react-router-dom';\n\nimport './css/main.css';\n\nimport Header from './components/Header/Header';\nimport Nav from './components/Nav/Nav';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport APILogin from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\n\n\n\n\n\n\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    alert('Some error occured')\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n  render() {\n\n    if (!this.props.initialized) return <Preloader />\n\n    return <div className = \"app-wrapper\">\n      <Header />\n      <Nav/>\n      <div className = 'app-wrapper__main-content'>\n        <Switch>\n          <Route exact path = '/' >\n            <Redirect to='/profile' />\n          </Route>\n          <Route path = '/dialogs' >\n            <DialogsContainer/>\n          </Route>\n          <Route path = '/profile/:userId?' >\n            <ProfileContainer/>\n          </Route>\n          <Route path = '/users' >\n            <UsersContainer />\n          </Route>\n          <Route path = '/news' >\n            <News />\n          </Route>\n          <Route path = '/music' >\n            <Music />\n          </Route>\n          <Route path = '/settings'>\n            <Settings />\n          </Route>\n          <Route path = '/login'>\n            <APILogin />\n          </Route>\n          <Route path = '*'>\n            <div>404 NOT FOUND</div>\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized\n  }\n}\n\nconst AppContainer = compose(\n  connect(mapStateToProps, {initializeApp}),\n  withRouter\n)(App);\n\nconst MainApp = (props) => {\n  return <HashRouter> {/* <BrowserRouter basename={process.env.PUBLIC_URL}> */}\n        <Provider store = {store}>\n          <AppContainer/>\n      </Provider>\n     </HashRouter>\n};\n\nexport default MainApp;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MainApp from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\n\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <MainApp />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}