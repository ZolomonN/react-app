(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{154:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(59),s=n.n(i),o=n(24),c=n(25),u=n(27),l=n(26),j=n(10),d=n(15),g=(n(154),n(5)),h=n(12),p=n(0),f=function(e){var t=e.logoutThunkCreator;return Object(p.jsx)("div",{className:"header__loginBlock",children:e.isAuth?Object(p.jsxs)("div",{children:[e.login," - ",Object(p.jsx)("button",{onClick:t,children:"Logout"})]}):Object(p.jsx)(d.b,{to:"/login",children:"Login"})})},b=n(11),O=n.n(b),m=n(16),Y=n(28),I=n(121),x=n.n(I).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4601f658-e994-4c5e-8ce3-24e3b849af41"}}),F={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return x.get("users?page=".concat(e,"&count=").concat(t))},unfollow:function(e){return x.delete("follow/".concat(e))},follow:function(e){return x.post("follow/".concat(e),{})}},v=function(e){return x.get("profile/".concat(e))},k=function(e){return x.get("profile/status/".concat(e))},S=function(e){return x.put("profile/status",{status:e})},W=function(){return x.get("auth/me")},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return x.post("auth/login",{email:e,password:t,rememberMe:n})},w=function(){return x.delete("auth/login")},A={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},B=function(e,t,n,r){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},N=function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n,r,a,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===(n=(n=e.sent).data).resultCode&&(r=n.data,a=r.id,i=r.email,s=r.login,t(B(a,i,s,!0)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)(f,Object(g.a)({},this.props))}}]),n}(a.a.Component),T=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logoutThunkCreator:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:0===e.sent.data.resultCode&&t(B(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(C),y=function(){return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("img",{className:"header__img",src:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/corporate-company-logo-design-template-2402e0689677112e3b2b6e0f399d7dc3_screen.jpg?ts=1561532453"}),Object(p.jsx)(T,{})]})},E=function(e){return Object(p.jsxs)("div",{className:"friend",children:[Object(p.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:""}),Object(p.jsx)("div",{children:Object(p.jsx)("span",{children:"".concat(e.name,", ").concat(e.year)})})]})},D=function(e){return Object(p.jsx)("div",{className:"sidebar",children:Object(p.jsx)("div",{className:"friendsList",children:e.friendsList.map((function(e){return Object(p.jsx)(E,{name:e.name,year:e.year})}))})})},J=Object(h.b)((function(e){return{friendsList:e.sidebar.friendsList}}),(function(e){}))(D),R=function(e){return Object(p.jsxs)("nav",{className:"nav",children:[Object(p.jsxs)("ul",{className:"nav__list",children:[Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/profile",children:"Profile"})}),Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/dialogs",children:"Messages"})}),Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/users",children:"Users"})}),Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/news",children:"News"})}),Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/music",children:"Music"})}),Object(p.jsx)("li",{children:Object(p.jsx)(d.b,{className:"nav__link",to:"/settings",children:"Settings"})})]}),Object(p.jsx)(J,{})]})},U=function(){return Object(p.jsx)("div",{children:"News"})},Q=function(){return Object(p.jsx)("div",{children:"Music"})},M=function(){return Object(p.jsx)("div",{children:"Settings"})},Z=n(9),H=function(e){return{isAuth:e.auth.isAuth}},V=function(e){var t=function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(){return Object(o.a)(this,r),n.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(e,Object(g.a)({},this.props)):Object(p.jsx)(j.a,{to:"/login"})}}]),r}(a.a.Component);return Object(h.b)(H)(t)},L=n(36),X={postsData:[{id:"1",text:"Hi, its me - Mario!",likes:"3"},{id:"2",text:"My first post",likes:"10"},{id:"3",text:"My second post",likes:"41"},{id:"4",text:"My third post",likes:"23"}],profile:null,status:null},K=function(e){return{type:"SET_STATUS",status:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:"5",text:t.newPostBody,likes:"0"};return Object(g.a)(Object(g.a)({},e),{},{postsData:[].concat(Object(L.a)(e.postsData),[n])});case"DELETE_POST":return Object(g.a)(Object(g.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});case"SET_USER_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});default:return e}},z=n(117),_=function(e){return Object(p.jsxs)("div",{className:"profile__post post",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"post__img",src:"https://365psd.com/images/istock/previews/1009/100996291-male-avatar-profile-picture-vector.jpg",alt:""})}),Object(p.jsx)("div",{children:Object(p.jsx)("span",{children:e.message})}),Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:["Like: ",e.likecounter]})})]})},$=n(116),ee=function(e){if(!e)return"Field is required"},te=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ne=n(84),re=function(e){var t=e.input,n=e.meta,r=Object(ne.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("textarea",Object(g.a)(Object(g.a)({className:a?"error":""},t),r))}),a&&Object(p.jsx)("span",{children:n.error})]})},ae=function(e){var t=e.input,n=e.meta,r=Object(ne.a)(e,["input","meta"]),a=n.error&&n.touched;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("input",Object(g.a)(Object(g.a)({className:a?"error":""},t),r))}),a&&Object(p.jsx)("span",{children:n.error})]})},ie=te(10),se=function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)($.a,{name:"newPostBody",component:re,placeholder:"Your post",validate:[ee,ie]})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Add post"})})]})},oe=Object(z.a)({form:"profileAddPostForm"})(se),ce=a.a.memo((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(oe,{onSubmit:function(t){e.addPost(t.newPostBody)}}),e.postsData.map((function(e){return Object(p.jsx)(_,{message:e.text,likecounter:e.likes})}))]})})),ue=n.p+"static/media/loader.97152ae5.svg",le=function(e){return Object(p.jsx)("img",{src:ue})},je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC+lBMVEUAAAAAAACAgIBVVVWAgIBmZmZVVVVtbW1gYGBVVVVmZmZdXV1qampiYmJbW1tmZmZgYGBaWlpjY2NeXl5mZmZhYWFdXV1kZGRgYGBcZmZiYmJeXl5kZGRhYWFeXl5jY2NgYGBdZGRiYmJfX19jY2NgYGBeXl5iYmJgYGBdZGRhYWFfX19gYGBeXl5iYmJgYGBeY2NhYWFfX19iYmJgYGBeY2NhYWFgYGBeYmJhYWFfX19iYmJgYGBfY2NhYWFgYGBeYmJhYWFfX19gYGBfYmJhYWFgYGBeYmJgYGBfY2NhYWFgYGBfYmJhYWFgYGBeYmJgYGBfYmJhYWFgYGBfYmJhYWFgYGBhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYmJhYWFgYmJhYWFgYGBfYmJhYWFgYGBfYWFgYGBgYmJhYWFgYGBfYmJhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYmJhYWFgYGBfYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYmJfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYGBgYWFhYWFgYmJfYWFgYGBgYWFfYWFgYmJgYWFhYWFgYmJfYWFgYGBgYWFhYWFgYmJgYWFhYWFgYWFfYWFgYGBgYWFhYWFgYmJgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYGBgYWFfYWFgYmJgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFhYWFgYWFgYWFgYmJgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYGBgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYmJgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFgYWFgYWFgYWFfYWFgYWFgYWFgYWFgYWFRkljDAAAA/XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKy0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDRUZHSElKS0xNTk9QUVJTVFVW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",de=n(50),ge=function(e){var t=Object(r.useState)(!1),n=Object(de.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(e.status),o=Object(de.a)(s,2),c=o[0],u=o[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(p.jsx)("div",{children:a?Object(p.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(c)},value:c,onChange:function(e){u(e.target.value)}}):Object(p.jsx)("span",{onDoubleClick:function(){i(!0)},children:c})})},he=function(e){return e.profile?Object(p.jsx)("div",{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"profile__img",src:null!==e.profile.photos.large?e.profile.photos.large:je}),Object(p.jsx)("div",{children:Object(p.jsx)("span",{children:e.profile.fullName})}),Object(p.jsx)(ge,{status:e.status,updateStatus:e.updateStatus})]})}):Object(p.jsx)(le,{})},pe=function(e){return Object(p.jsxs)("main",{className:"profile",children:[Object(p.jsx)(he,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(p.jsx)(ce,{postsData:e.postsData,postValue:e.postValue,addPost:e.addPost,newPostValue:e.newPostValue})]})},fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getProfileThunkCreator(e),this.props.getStatusThunkCreator(e)}},{key:"render",value:function(){return Object(p.jsx)(pe,Object(g.a)(Object(g.a)({},this.props),{},{profile:this.props.profile,updateStatus:this.props.updateStatusThunkCreator}))}}]),n}(a.a.Component),be=Object(Z.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,postsData:e.profilePage.postsData,postValue:e.profilePage.newPostText,status:e.profilePage.status,userId:e.auth.userId}}),{addPost:function(e){return{type:"ADD_POST",newPostBody:e}},getProfileThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:r=t.sent,n(K(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:0===t.sent.data.resultCode&&n(K(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),j.f,V)(fe),Oe={dialogsData:[{id:1,name:"Vasya"},{id:2,name:"Sveta"},{id:3,name:"Valera"},{id:4,name:"Hector"}],messagesData:[{text:"Wassup"},{text:"Wanna eat"},{text:"And drink"},{text:"And sleep"}]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var n={text:t.newMessageBody};return Object(g.a)(Object(g.a)({},e),{},{messagesData:[].concat(Object(L.a)(e.messagesData),[n])});default:return e}},Ye=function(e){return Object(p.jsxs)("div",{className:"dialogs-list__item active",children:[Object(p.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:""}),Object(p.jsx)(d.b,{to:"/dialogs/"+e.id,children:e.name})]})},Ie=te(100),xe=function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)($.a,{name:"newMessageBody",validate:[ee,Ie],component:re,placeholder:"Your message"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Add message"})})]})},Fe=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"messages__item",children:e.message})})},ve=Object(z.a)({form:"dialogAddMessageForm"})(xe),ke=function(e){return Object(p.jsxs)("div",{children:[e.messagesData.map((function(e){return Object(p.jsx)(Fe,{message:e.text})})),Object(p.jsx)(ve,{onSubmit:function(t){e.addMessage(t.newMessageBody)}})]})},Se=function(e){return Object(p.jsxs)("div",{className:"dialogs",children:[Object(p.jsx)("div",{className:"dialogs-list",children:e.dialogsData.map((function(e){return Object(p.jsx)(Ye,{name:e.name,id:e.id})}))}),Object(p.jsx)("div",{className:"messages",children:Object(p.jsx)(ke,{messagesData:e.messagesData,addMessage:e.addMessage})})]})},We=Object(Z.d)(Object(h.b)((function(e){return{dialogsData:e.messagePage.dialogsData,messagesData:e.messagePage.messagesData,messageValue:e.messagePage.newMessageText}}),{addMessage:function(e){return{type:"ADD_MESSAGE",newMessageBody:e}}}),V)(Se),Ge=function(e,t,n,r){e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),r):e}))},we={usersData:[],pageSize:5,totalItemsCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Ae=function(e){return{type:"FOLLOW",userId:e}},Be=function(e){return{type:"UNFOLLOW",userId:e}},Ne=function(e){return{type:"SET_USERS",users:e}},Pe=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ce=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",followingProgress:e,userId:t}},Te=function(){var e=Object(m.a)(O.a.mark((function e(t,n,r,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ce(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(Ce(!1,n));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{usersData:Ge(e.usersData,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{usersData:Ge(e.usersData,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{usersData:Object(L.a)(t.users)});case"SET_CURRENT_PAGE":return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.number});case"SET_TOTAL_ITEMS_COUNT":return Object(g.a)(Object(g.a)({},e),{},{totalItemsCount:t.count});case"TOGGLE_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.followingProgress?[].concat(Object(L.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Ee=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.onPageChange,i=e.currentPage,s=e.portionSize,o=void 0===s?10:s,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var j=Math.ceil(c/o),d=Object(r.useState)(1),g=Object(de.a)(d,2),h=g[0],f=g[1],b=(h-1)*o+1,O=h*o;return Object(p.jsxs)("div",{children:[h>1&&Object(p.jsx)("button",{onClick:function(){f(h-1)},children:"PREV"}),u.filter((function(e){return e>=b&&e<=O})).map((function(e){return Object(p.jsx)("span",{onClick:function(){a(e)},className:"pagination__item"+(i===e?" selectedPage":""),children:e})})),j>h&&Object(p.jsx)("button",{onClick:function(){f(h+1)},children:"NEXT"})]})},De=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(d.b,{to:"/profile/".concat(e.id),children:Object(p.jsx)("img",{className:"user__photo",src:null!=e.photos.small?e.photos.small:je})}),Object(p.jsx)("div",{children:e.name}),Object(p.jsx)("div",{children:e.status}),Object(p.jsx)("div",{children:"props.location.city"}),Object(p.jsx)("div",{children:"props.location.country"}),e.followed?Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){e.unfollowThunkCreator(e.id)},children:"unfollow"}):Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){e.followThunkCreator(e.id)},children:"follow"})]})},Je=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(Ee,{totalItemsCount:e.totalItemsCount,pageSize:e.pageSize,onPageChange:e.onPageChange,currentPage:e.currentPage}),e.usersData.map((function(t){return Object(p.jsx)(De,{id:t.id,name:t.name,status:t.status,location:t.location,photos:t.photos,followed:t.followed,followingInProgress:e.followingInProgress,followThunkCreator:e.followThunkCreator,unfollowThunkCreator:e.unfollowThunkCreator})}))]})},Re=function(e){return e.usersPage.usersData},Ue=function(e){return e.usersPage.pageSize},Qe=function(e){return e.usersPage.totalItemsCount},Me=function(e){return e.usersPage.currentPage},Ze=function(e){return e.usersPage.isFetching},He=function(e){return e.usersPage.followingInProgress},Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.changePageThunkCreator(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(le,{}):null,Object(p.jsx)(Je,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,onPageChange:this.onPageChange,currentPage:this.props.currentPage,usersData:this.props.usersData,followingInProgress:this.props.followingInProgress,followThunkCreator:this.props.followThunkCreator,unfollowThunkCreator:this.props.unfollowThunkCreator})]})}}]),n}(a.a.Component),Le=Object(h.b)((function(e){return{usersData:Re(e),pageSize:Ue(e),totalItemsCount:Qe(e),currentPage:Me(e),isFetching:Ze(e),followingInProgress:He(e)}}),{toggleFollowingProgress:Ce,getUsersThunkCreator:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Pe(!0)),n.next=3,F.getUsers(e,t);case 3:a=(a=n.sent).data,r(Pe(!1)),r(Ne(a.items)),r({type:"SET_TOTAL_ITEMS_COUNT",count:a.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},changePageThunkCreator:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Pe(!0)),r({type:"SET_CURRENT_PAGE",number:e}),n.next=4,F.getUsers(e,t);case 4:a=(a=n.sent).data,r(Pe(!1)),r(Ne(a.items));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Te(n,e,F.follow.bind(F),Ae);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Te(n,e,F.unfollow.bind(F),Be);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ve),Xe=function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)($.a,{name:"email",component:ae,validate:[ee],placeholder:"email"})}),Object(p.jsx)("div",{children:Object(p.jsx)($.a,{name:"password",component:ae,type:"password",validate:[ee],placeholder:"Password"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)($.a,{name:"rememberMe",component:ae,type:"checkbox"}),"Remember me"]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Login"})}),e.error&&Object(p.jsx)("span",{className:"commonError",children:e.error})]})},Ke=Object(z.a)({form:"login"})(Xe),qe=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,n){return function(){var r=Object(m.a)(O.a.mark((function r(a){var i,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G(e,t,n);case 2:0===(i=(i=r.sent).data).resultCode?a(N()):(s=i.messages.length>0?i.messages[0]:"Some error",a(Object(Y.a)("login",{_error:s})));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.loginThunkCreator;return e.isAuth?Object(p.jsx)(j.a,{to:"/profile"}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Login"}),Object(p.jsx)(Ke,{onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe;t(n,r,a)}})]})})),ze={initialized:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},$e={friendsList:[{name:"Adam",year:"32"},{name:"Marshal",year:"21"},{name:"Henry",year:"32"}]},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return e},tt=n(124),nt=n(118),rt=Object(Z.c)({auth:P,messagePage:me,profilePage:q,usersPage:ye,sidebar:et,form:nt.a,app:_e}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,it=Object(Z.e)(rt,at(Object(Z.a)(tt.a)));window.store=it;var st=it,ot=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsxs)("div",{className:"app-wrapper",children:[Object(p.jsx)(y,{}),Object(p.jsx)(R,{}),Object(p.jsxs)("div",{className:"app-wrapper__main-content",children:[Object(p.jsx)(j.b,{path:"/dialogs",children:Object(p.jsx)(We,{})}),Object(p.jsx)(j.b,{path:"/profile/:userId?",children:Object(p.jsx)(be,{})}),Object(p.jsx)(j.b,{path:"/users",children:Object(p.jsx)(Le,{})}),Object(p.jsx)(j.b,{path:"/news",children:Object(p.jsx)(U,{})}),Object(p.jsx)(j.b,{path:"/music",children:Object(p.jsx)(Q,{})}),Object(p.jsx)(j.b,{path:"/settings",children:Object(p.jsx)(M,{})}),Object(p.jsx)(j.b,{path:"/login",children:Object(p.jsx)(qe,{})})]})]}):Object(p.jsx)(le,{})}}]),n}(a.a.Component),ct=Object(Z.d)(Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(N()).then((function(){e({type:"SET_INITIALIZED"})}))}}}),j.f)(ot),ut=function(e){return Object(p.jsx)(d.a,{children:Object(p.jsx)(h.a,{store:st,children:Object(p.jsx)(ct,{})})})},lt=(n(281),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))});s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ut,{})}),document.getElementById("root")),lt()}},[[282,1,2]]]);
//# sourceMappingURL=main.06b02f1b.chunk.js.map